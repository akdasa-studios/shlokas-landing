<html>
    <head>
        <link rel="stylesheet" href="./assets/landing.css">

        <title>Shlokas. Learn Vedic verses to spiritualize your mind!</title>
    </head>

    <script>
    const protocol = window.location.protocol
    const domain   = window.location.host
    const token    = window.location.search
    const params = new Proxy(new URLSearchParams(window.location.search), {
        get: (searchParams, prop) => searchParams.get(prop),
    });

    async function callConfirmationResponse() {
        const respose = await fetch(`${protocol}//${domain}/auth/confirm-email/${params.token}`)
        if (respose.ok) {
            document.getElementById("success").classList.remove('hidden')
        } else {
            document.getElementById("failure").classList.remove('hidden')
        }
        document.getElementById("loading").classList.add('hidden')
    }
    </script>

    <body onload="callConfirmationResponse()">
        <div class="container">
            <img
                src="assets/logo.svg"
                class="logo"
            />

            <div id="loading" class="status">
                Loading ...
            </div>
            <div id="success" class="status hidden">
                Email has been confirmed!
            </div>
            <div id="failure" class="status hidden">
                Invalid token
            </div>

        </div>
    </body>

</html>